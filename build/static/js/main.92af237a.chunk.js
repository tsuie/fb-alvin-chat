(this.webpackJsonpassessment=this.webpackJsonpassessment||[]).push([[0],{127:function(e,a,t){e.exports=t(158)},156:function(e,a,t){},157:function(e,a,t){},158:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(10),c=t.n(r),i=t(11),o={apiKey:"AIzaSyDSINGmBE3TuhB-k77SxKpzS1J6CgqpAaQ",authDomain:"assessment-app-3.firebaseapp.com",databaseURL:"https://assessment-app-3-default-rtdb.firebaseio.com",projectId:"assessment-app-3",storageBucket:"assessment-app-3.appspot.com",messagingSenderId:"96766123206",appId:"1:96766123206:web:1f1a0d5810da962c7ecbc7"},m=t(77),s=t.n(m),u=t(98),E=t(36),d=t(19),p=t(50),b=(t(87),t(208)),f=t(99),h=t.n(f),v=t(38),g=t(210),O=t(192),j=t(205),y=t(194),x=t(28),w=t.n(x),k=t(73),N=t.n(k),S=t(207),I=t(14);function W(e){var a=Object(n.useState)({nickname:"",email:"",password:"",photoUrl:"",error:!1}),t=Object(p.a)(a,2),r=t[0],c=t[1],o=function(e){var a;c(Object(d.a)(Object(d.a)({},r),{},(a={},Object(E.a)(a,e.target.name,e.target.value),Object(E.a)(a,"error",!1),a)))},m=e.classes,f=Object(i.i)(),x=Object(i.j)().collection("users");function k(e){return l.a.createElement(S.a,Object.assign({elevation:6,variant:"filled"},e))}console.log(window.location.hostname);var W=function(e){var a=!1;if(e){var t=e.split(".");a=!!["png","jpg","jpeg","PNG","JPG","JPEG","GIF","gif"].find((function(e){return e===t[2]}))}return a};Object(n.useEffect)((function e(){console.log("Fetching..",r);try{h.a.get("https://random.dog/woof.json").then((function(a){var t=W(a.data.url),n=a.data.url;console.log(n),t?r.photoUrl=n:e(),console.log(r)}))}catch(a){console.log(a)}}),[]);var C=function(){var e=Object(u.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,f.auth().createUserWithEmailAndPassword(r.email,r.password).then((function(e){e.user.updateProfile({displayName:r.nickname,photoURL:r.photoUrl});var a={url:window.location.origin};e.user.sendEmailVerification(a).then((function(a){var t=Object(b.a)();c(Object(d.a)(Object(d.a)({},r),{},{verifyEmail:"Welcome ".concat(r.nickname,". To continue please verify your email.")})),x.doc(t).set({uid:e.user.uid,displayName:e.user.displayName,email:e.user.email,photoURL:e.user.photoURL})}))}));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),console.log("Error : ",e.t0),c(Object(d.a)(Object(d.a)({},r),{},{error:e.t0.message}));case 10:return e.abrupt("return",l.a.createElement(I.a,{to:"/verify"}));case 11:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(a){return e.apply(this,arguments)}}(),P=function(e,a){"clickaway"!==a&&c(Object(d.a)(Object(d.a)({},r),{},{error:!1}))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a,{variant:"h3",color:"inherit"},"SIGN UP"),l.a.createElement("form",{onSubmit:C},l.a.createElement(g.a,{open:r.error,autoHideDuration:6e3,onClose:P},l.a.createElement(k,{onClose:P,severity:"error"},l.a.createElement("b",null,"WOOF!")," ",r.error)),l.a.createElement(O.a,{container:!0},l.a.createElement(O.a,{item:!0,xs:12},l.a.createElement(j.a,{onChange:o,name:"nickname",placeholder:"Nickname",label:"Nickname",variant:"outlined",size:"small",className:m.fullWidthInput,value:r.nickname})),l.a.createElement("hr",null),l.a.createElement(O.a,{item:!0,xs:12},l.a.createElement(j.a,{onChange:o,name:"email",placeholder:"Email",label:"Email",variant:"outlined",size:"small",className:m.fullWidthInput,value:r.email})),l.a.createElement("hr",null),l.a.createElement(O.a,{item:!0,xs:12},l.a.createElement(j.a,{onChange:o,name:"password",placeholder:"Password",label:"Password",variant:"outlined",size:"small",className:m.fullWidthInput,value:r.password,type:"password"})),l.a.createElement("hr",null),l.a.createElement(O.a,{item:!0,xs:12},l.a.createElement(y.a,{type:"submit",variant:"contained",color:"primary"},l.a.createElement(w.a,null)," Sign Up")),l.a.createElement("hr",null),l.a.createElement(O.a,{item:!0,xs:12},l.a.createElement(v.a,{variant:"overline",display:"block"},"Already have an account?")),l.a.createElement("hr",null),l.a.createElement(O.a,{item:!0,xs:12},l.a.createElement(y.a,{href:"/login",variant:"contained"},l.a.createElement(N.a,null)," Login")))))}t(66);var C=function(e){var a=Object(i.i)(),t=Object(n.useState)({email:"",password:"",error:!1}),r=Object(p.a)(t,2),c=r[0],o=r[1],m=e.classes,s=function(e){var a;o(Object(d.a)(Object(d.a)({},c),{},(a={},Object(E.a)(a,e.target.name,e.target.value),Object(E.a)(a,"error",!1),a)))};function u(e){return l.a.createElement(S.a,Object.assign({elevation:6,variant:"filled"},e))}var b=function(e,a){"clickaway"!==a&&o(Object(d.a)(Object(d.a)({},c),{},{error:!1}))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a,{variant:"h3",color:"inherit"},"LOG IN"),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a.auth().signInWithEmailAndPassword(c.email,c.password).then((function(e){return e.user.emailVerified||o(Object(d.a)(Object(d.a)({},c),{},{error:"Please verify your email before to continue"})),l.a.createElement(I.a,{to:"/"})})).catch((function(e){o(Object(d.a)(Object(d.a)({},c),{},{error:e.message}))}))}},l.a.createElement(g.a,{open:c.error,autoHideDuration:6e3,onClose:b},l.a.createElement(u,{onClose:b,severity:"error"},l.a.createElement("b",null,"WOOF!")," ",c.error)),l.a.createElement(O.a,{container:!0},l.a.createElement(O.a,{item:!0,xs:12},l.a.createElement(j.a,{onChange:s,name:"email",placeholder:"Email",label:"Email",variant:"outlined",size:"small",className:m.fullWidthInput,value:c.email})),l.a.createElement("hr",null),l.a.createElement(O.a,{item:!0,xs:12},l.a.createElement(j.a,{onChange:s,name:"password",placeholder:"Password",label:"Password",variant:"outlined",size:"small",className:m.fullWidthInput,value:c.password,type:"password"})),l.a.createElement("hr",null),l.a.createElement(O.a,{item:!0,xs:12},l.a.createElement(y.a,{type:"submit",variant:"contained",color:"primary"},l.a.createElement(N.a,null)," Login")),l.a.createElement("hr",null),l.a.createElement(O.a,{item:!0,xs:12},l.a.createElement(v.a,{variant:"overline",display:"block"},"Don't have an account?")),l.a.createElement("hr",null),l.a.createElement(O.a,{item:!0,xs:12},l.a.createElement(y.a,{href:"/signup",variant:"contained"},l.a.createElement(w.a,null)," Sign up")))))},P=t(191),A=t(103),U=t.n(A),F=function(){var e=Object(i.i)();return l.a.createElement(P.a,{"aria-label":"logout",color:"primary",onClick:function(){return e.auth().signOut(),l.a.createElement(I.a,{to:"/"})}},l.a.createElement(U.a,null))},D=t(104),L=t.n(D),B=t(74),T=t.n(B),z=t(200),R=t(201),G=t(211),V=t(202),M=t(195),J=t(193),H=t(196),Y=t(199),K=t(198),q=t(197),Q=t(49),X=t.n(Q),Z=t(105),$=t.n(Z),_=Object(M.a)((function(e){return{root:{width:"100%",maxWidth:"36ch",backgroundColor:e.palette.background.paper},inline:{display:"inline"}}})),ee=function(e){var a=Object(i.m)(),t=e.items,n=e.users,r=_();return l.a.createElement(J.a,null,t.map((function(e,t){var c=0,i=function(e){return X.a.findLast(n,(function(a){return e.uid===a.uid}))}(e),o=$()(e.createdAt.toDate().toISOString()).format("MM/DD/YY hh:mm");return l.a.createElement("div",null,l.a.createElement(H.a,{alignItems:"flex-start",key:c++,button:!0,selected:a.uid===i.uid},l.a.createElement(q.a,null,l.a.createElement(G.a,{alt:"Remy Sharp",src:i.photoURL})),l.a.createElement(K.a,{primary:e.message,secondary:l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a,{component:"span",variant:"body2",className:r.inline,color:"textPrimary"},i.displayName)," - ",l.a.createElement("small",null,o))})),l.a.createElement(Y.a,{variant:"inset",component:"li"}))})))};function ae(e){var a=Object(i.m)(),t=Object(n.useState)(""),r=Object(p.a)(t,2),c=r[0],o=r[1],m=Object(i.j)(),s=m.collection("messages"),u=m.collection("users"),E=X.a.sortBy(Object(i.k)(s),"createdAt"),d=Object(i.k)(u),f=e.classes;Object(n.useEffect)((function(){h()}));var h=function(){var e=document.getElementById("chatBoxContainer");e.scrollTo(0,e.scrollHeight)};return l.a.createElement("div",{className:f.container},l.a.createElement(z.a,null,l.a.createElement(R.a,{avatar:l.a.createElement(G.a,{alt:a.displayName,src:a.photoURL}),action:l.a.createElement(F,null),title:"Welcome "+a.displayName,subheader:a.email}),l.a.createElement(V.a,{className:f.chatbox,id:"chatBoxContainer"},l.a.createElement(ee,{items:E,users:d}))),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log(c),""!==c&&(s.doc(Object(b.a)()).set({uid:a.uid,message:c,createdAt:L.a.firestore.Timestamp.now()}),o(""),h())}},l.a.createElement(O.a,{container:!0,spacing:1,alignItems:"flex-end"},l.a.createElement(O.a,{item:!0,xs:11},l.a.createElement(j.a,{onChange:function(e){return o(e.target.value)},name:"message",placeholder:"Enter Message",value:c,label:"Message",variant:"outlined",size:"small",className:f.fullWidthInput})),l.a.createElement(O.a,{item:!0,xs:1},l.a.createElement(P.a,{"aria-label":"delete",color:"primary",type:"submit"},l.a.createElement(w.a,null))))),l.a.createElement("br",null),l.a.createElement(y.a,{variant:"contained",href:"/stats"},l.a.createElement(T.a,null)," Check woof Stats"))}var te=function(){var e=Object(i.m)();return l.a.createElement(l.a.Fragment,null,"Please Verify your Account, we sent an email to ",e.email,l.a.createElement(F,null))},ne=function(e){var a=Object(i.j)(),t=a.collection("messages"),n=a.collection("users"),r=X.a.sortBy(Object(i.k)(t),"createdAt"),c=Object(i.k)(n),o=(e.classes,Object(i.m)());return l.a.createElement("div",null,l.a.createElement(z.a,null,l.a.createElement(R.a,{avatar:l.a.createElement(G.a,{alt:o.displayName,src:o.photoURL}),action:l.a.createElement(F,null),title:"Welcome "+o.displayName,subheader:o.email})),l.a.createElement("br",null),l.a.createElement(v.a,{variant:"h4"},l.a.createElement(T.a,null)," WOOF STATS"),l.a.createElement("br",null),l.a.createElement(O.a,{container:!0,spacing:3},l.a.createElement(O.a,{item:!0,xs:6},l.a.createElement(z.a,null,l.a.createElement(V.a,null,l.a.createElement(v.a,{variant:"subtitle1"},"Total Woofers (Users)"),l.a.createElement(v.a,{variant:"h1"},c.length)))),l.a.createElement(O.a,{item:!0,xs:6},l.a.createElement(z.a,null,l.a.createElement(V.a,null,l.a.createElement(v.a,{variant:"subtitle1"},"Total Woof Sent (Messages)"),l.a.createElement(v.a,{variant:"h1"},r.length)))),l.a.createElement(O.a,{item:!0,xs:12},l.a.createElement(y.a,{variant:"contained",href:"/"},l.a.createElement(w.a,null)," Back to Woofing!"))))},le=(t(156),t(57)),re=t(203),ce=t(204);function ie(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(re.a,{position:"static"},l.a.createElement(ce.a,{variant:"dense"},l.a.createElement(P.a,{edge:"start",color:"inherit","aria-label":"menu"},l.a.createElement(w.a,null)),l.a.createElement(v.a,{variant:"h6",color:"inherit"},"WOOF STATION"))),l.a.createElement("br",null))}var oe=Object(M.a)((function(e){return{root:{width:"100%",maxWidth:"36ch",backgroundColor:e.palette.background.paper},inline:{display:"inline"},container:{maxWidth:"500px",margin:"0px auto"},chatbox:{maxHeight:"300px;",overflowY:"scroll"},fullWidthInput:{width:"100%"}}}));var me=function(){var e=Object(i.m)(),a=oe();return l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:a.container},l.a.createElement(ie,null),l.a.createElement(le.a,null,l.a.createElement(I.d,null,l.a.createElement(I.b,{exact:!0,path:"/"},e?e.emailVerified?l.a.createElement(ae,{classes:a}):l.a.createElement(te,{classes:a}):l.a.createElement(l.a.Fragment,null,l.a.createElement(C,{classes:a}))),l.a.createElement(I.b,{exact:!0,path:"/signup"},e?e.emailVerified?l.a.createElement(I.a,{to:"/"}):l.a.createElement(I.a,{to:"/verify"}):l.a.createElement(W,{classes:a})),l.a.createElement(I.b,{exact:!0,path:"/verify"},e?e.emailVerified?l.a.createElement(I.a,{to:"/"}):l.a.createElement(te,{classes:a}):l.a.createElement(l.a.Fragment,null,l.a.createElement(I.a,{to:"/login"}))),l.a.createElement(I.b,{exact:!0,path:"/logout"},l.a.createElement(F,{classes:a})),l.a.createElement(I.b,{exact:!0,path:"/login"},e?l.a.createElement(I.a,{to:"/"}):l.a.createElement(C,{classes:a})),l.a.createElement(I.b,{exact:!0,path:"/stats"},e?e.emailVerified?l.a.createElement(ne,{classes:a}):l.a.createElement(te,{classes:a}):l.a.createElement(I.a,{to:"/"})),l.a.createElement(I.b,{path:"*"},l.a.createElement(I.a,{to:"/"}))))))},se=(t(157),t(206));c.a.render(l.a.createElement(i.a,{firebaseConfig:o},l.a.createElement(i.b,{fallback:l.a.createElement(se.a,{textAlign:"center",pt:20},l.a.createElement(v.a,{variant:"subtitle1"},"Sniffing...",l.a.createElement("br",null),"Identifying hooman...",l.a.createElement("br",null),"Please wait..",l.a.createElement("br",null)))},l.a.createElement(l.a.StrictMode,null,l.a.createElement(me,null)))),document.getElementById("root"))},87:function(e,a,t){}},[[127,1,2]]]);
//# sourceMappingURL=main.92af237a.chunk.js.map